<!-- this is a sample HTML and Javascript file for all changes that i feel relevant
-->
<!DOCTYPE html>
<html>
<body>

<h2>JavaScript For/In Loop</h2>

<p>The for/in statement loops through the properties of an object.</p>

<p id="demo"></p>


<!--//In HTML event handlers, this refers to the HTML element that received the event:-->
<h2>The JavaScript <b>this</b> Keyword</h2>
<button onclick="this.style.display='none'">Click to Remove Me!</button>
<br/>


<script>
    "use strict"
var txt = "";
var person = {fname:"John", lname:"Doe", age:25}; 
var x;
for (x in person) {
  txt += person[x] + " ";
}

//Looping over an Array
var cars = ['BMW', 'Volvo', 'Mini'];
var x;

for (x of cars) {
  document.write(x + "<br >");
}

document.getElementById("demo").innerHTML = txt;

//What Is a Regular Expression?
//A regular expression is a sequence of characters that forms a search pattern.
//   /pattern/modifiers;

//Search a string for "W3Schools", and display the position of the match
var str = "Visit W3Schools!"; 
var n = str.search(/w3Schools/i);

document.write('regular expression example of n:'+n + "<br >");
var res = str.replace("W3Schools", "myschool");

document.write('regular expression example of replacement:'+res+"<br >");
  //trying to do a pull request now for path2

  // hoisting allow variables to be used before it is declared in JS.
  // by defaul JS hoists variable declaration but does not hoist the initialization

//The JavaScript this keyword refers to the object it belongs to.

var person2 = {
  firstName: "John",
  lastName : "Doe",
  id     : 5566,
  fullName : function() {
    return this.firstName + " " + this.lastName;
  }
};

// Display data from the object:
//document.getElementById("demo").innerHTML = person2.fullName();

document.write('demonsytrating this keyword: '+person2.fullName()+"<br>");


//In HTML event handlers, this refers to the HTML element that received the event:

//arrow function
var hello;

hello = () => {       // same as hello = function() {
  return "Hello World!";
}

/* or you can rewrite the above as
hello = () => "Hello World!";

*/
/*If you have parameters, you pass them inside the parentheses:
In fact, if you have only one parameter, you can skip the parentheses as well:


hello = (val) => "Hello " + val;

hello = val => "Hello " + val;
*/


document.write('arrow function demo : '+hello());

// demonstrating call back and the sequence issue

const numbers = [1, 2];

function getNumbers() {
  numbers.forEach(number => document.write("<br>"+'array number is :'+number));// this is an arrow function like this hello = val => "Hello " + val;
}                 //number here is the parameter of the function defintion.. you are not giving function a name here..just the definition is here

function addNumber(number) {
  numbers.push(number);
}

getNumbers(numbers) // 1, 2
addNumber(3);
getNumbers(numbers) // 1, 2, 3

function abc(){
  document.write ('function called');
}

/*
The problem
Now, let's suppose both of our function calls take some amount of time to execute because we are making requests to a backend server. Let's mimic it by using built-in setTimeout methods and wrap our logic inside them.

*/

const numbers2 = [1, 2];

function getNumbers2() {
  setTimeout(() => {
    numbers2.forEach(number2 => document.write("<br>"+'array number now is :'+number2));
  }, 1000)
}

function addNumber2(number2) {
  setTimeout(() => {
  numbers2.push(number2)
  }, 2000)
}

getNumbers2(numbers2) ;// 1, 2
addNumber2(3);
getNumbers2(numbers2); // 1, 2 ... Why?..  because the addnumber2 is not done yet


setTimeout(()=>{
  getNumbers2(numbers2) // now addnumber2 would be done

},1000)


</script>

</body>
</html>

